/*
    @file math.h
    @brief Кросс-платформенный интерфейс для работы с математическими функциями.
    @author Дмитрий Скляр.
    @version 1.0
    @date 27-01-2026

    @license Лицензия Apache, версия 2.0 («Лицензия»);
          Вы не имеете права использовать этот файл без соблюдения условий Лицензии.
          Копию Лицензии можно получить по адресу http://www.apache.org/licenses/LICENSE-2.0
          Если иное не предусмотрено действующим законодательством или не согласовано в письменной форме,
          программное обеспечение, распространяемое по Лицензии, распространяется на условиях «КАК ЕСТЬ»,
          БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ ИЛИ УСЛОВИЙ, явных или подразумеваемых. См. Лицензию для получения
          информации о конкретных языках, регулирующих разрешения и ограничения по Лицензии.

    @note Реализации функций являются платформозависимыми и находятся в соответствующих
          platform/ модулях (windows, linux и т.д.).

    @note Для корректной работы необходимо предварительно инициализировать:
            - Подсистему консоли platform_console_initialize()
*/

#pragma once

#include <core/defines.h>

/*
    @brief Вычисляет синус угла.
    @param x Угол в радианах.
    @return Синус угла в диапазоне [-1.0, 1.0].
*/
API f32 platform_math_sin(f32 x);

/*
    @brief Вычисляет арксинус числа.
    @warning Поведение не определено при |x| > 1.0.
    @param x Число в диапазоне [-1.0, 1.0].
    @return Угол в радианах в диапазоне [-π/2, π/2].
*/
API f32 platform_math_asin(f32 x);

/*
    @brief Вычисляет косинус угла.
    @param x Угол в радианах.
    @return Косинус угла в диапазоне [-1.0, 1.0].
*/
API f32 platform_math_cos(f32 x);

/*
    @brief Вычисляет арккосинус числа.
    @warning Поведение не определено при |x| > 1.0.
    @param x Число в диапазоне [-1.0, 1.0].
    @return Угол в радианах в диапазоне [0, π].
*/
API f32 platform_math_acos(f32 x);

/*
    @brief Вычисляет тангенс угла.
    @warning Поведение не определено при x = π/2 + kπ (деление на ноль).
    @param x Угол в радианах. Не должен быть равен (π/2 + kπ), где k - целое число.
    @return Тангенс угла.
*/
API f32 platform_math_tan(f32 x);

/*
    @brief Вычисляет арктангенс числа.
    @note Используйте platform_math_atan2 для получения угла во всех квадрантах.
    @param x Число в диапазоне [-INF, +INF].
    @return Угол в радианах в диапазоне (-π/2, π/2).
*/
API f32 platform_math_atan(f32 x);

/*
    @brief Вычисляет арктангенс отношения y/x с учетом квадранта.
    @warning Не передавать оба параметра равными 0.
    @note Корректно обрабатывает случай x = 0.
    @param y Координата Y (противоположная сторона).
    @param x Координата X (прилежащая сторона).
    @return Угол в радианах в диапазоне (-π, π].
*/
API f32 platform_math_atan2(f32 y, f32 x);

/*
    @brief Вычисляет квадратный корень числа.
    @warning Поведение не определено при x < 0.0.
    @param x Неотрицательное число.
    @return Квадратный корень числа.
*/
API f32 platform_math_sqrt(f32 x);

/*
    @brief Вычисляет абсолютное значение числа (модуль).
    @param x Число с плавающей точкой.
    @return Абсолютное значение числа (|x|).
*/
API f64 platform_math_abs(f64 x);

/*
    @brief Вычисляет абсолютное значение числа (модуль).
    @param x Число с плавающей точкой.
    @return Абсолютное значение числа (|x|).
*/
API f32 platform_math_absf(f32 x);

/*
    @brief Округляет число вниз до ближайшего целого.
    @param x Число с плавающей точкой.void
    @return Наибольшее целое число, меньшее или равное x.
*/
API f32 platform_math_floor(f32 x);

/*
    @brief Округляет число вверх до ближайшего целого.
    @param x Число с плавающей точкой.
    @return Наименьшее целое число, большее или равное x.
*/
API f32 platform_math_ceil(f32 x);

/*
    @brief Вычисляет двоичный логарифм числа (логарифм по основанию 2).
    @warning Поведение не определено при x <= 0.0.
    @param x Положительное число.
    @return Логарифм числа x по основанию 2.
*/
API f32 platform_math_log2(f32 x);

/*
    @brief Возводит число в заданную степень.
    @warning Поведение не определено при x < 0.0 и нецелом p.
    @param x Основание степени.
    @param p Показатель степени.
    @return Результат возведения x в степень p.
*/
API f32 platform_math_pow(f32 x, f32 p);
